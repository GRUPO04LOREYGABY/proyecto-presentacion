<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Case - Gold Coffee Export SAC</title>
    <!-- Carga de Tailwind CSS para estilos modernos y responsivos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuraci√≥n de Colores y Fuentes -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Paleta de colores ajustada a tonos CAF√â
                        'coffee-bg': '#2e2624',    // Fondo general (Caf√© Espresso muy oscuro, menos fuerte)
                        'coffee-card': '#3c3230',  // Fondo de contenedores (Moca oscuro)
                        'cream': '#F5F1E6',        // Texto principal (Crema suave, mejor lectura que blanco puro)
                        'gold-accent': '#D4AF37',  // Dorado met√°lico
                        'system-blue': '#5D9CEC',  // Azul vibrante pero suave para contraste con marr√≥n
                    },
                    fontFamily: {
                        serif: ['Georgia', 'Times New Roman', 'serif'], 
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        /* --- ESTILOS GENERALES (Centrado de la P√°gina) --- */
        body {
            line-height: 1.8;
            color: #F5F1E6; /* Color Crema */
            background-color: #2e2624; /* Fondo Marr√≥n Espresso */
            font-family: 'Inter', sans-serif;
            
            /* FIX 1: Centrado Total de la P√°gina */
            display: flex; 
            justify-content: center; /* Centra el contenido horizontalmente */
            margin: 0;
            padding: 0;
            min-height: 100vh; /* Asegura que ocupe toda la altura */
        }
        
        /* Contenedor principal con efecto de elevaci√≥n, centrado por body{display: flex;} */
        .business-case-container {
            max-width: 1100px; /* Ancho m√°ximo para el contenido */
            width: 100%; /* Ocupa todo el ancho hasta el max-width */
            padding: 40px 1.5rem; /* A√±adimos el padding aqu√≠ */
            
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 16px;
            
            /* Padding interior del contenedor */
            padding-top: 3rem; 
            padding-bottom: 3rem;
            padding-left: 3rem; 
            padding-right: 3rem; 
            
            background-color: #3c3230; /* Fondo de la hoja (Caf√© profundo) */
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
        }
        
        /* --- JERARQU√çA DE T√çTULOS --- */

        /* H1: T√≠tulo del Proyecto */
        h1 {
            font-family: 'Georgia', serif;
            border-bottom: 4px solid #D4AF37; /* Dorado */
            padding-bottom: 1rem;
            margin-bottom: 2.5rem;
            font-size: 6rem; 
            font-weight: 900; 
            color: #F5F1E6;
            text-align: center;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* H2: T√≠tulos Principales (Azules, gran separaci√≥n superior) */
        h2 {
            font-family: 'Georgia', serif;
            font-size: 3.5rem; 
            font-weight: 900; 
            color: #5D9CEC; 
            margin-top: 9rem; /* AUMENTADO a 9rem para una RUPTURA DE SECCI√ìN CLARA */
            margin-bottom: 2.5rem;
            border-left: 10px solid #D4AF37; 
            padding-left: 1.5rem;
            letter-spacing: 0.05em; 
            text-transform: uppercase;
            line-height: 1.1;
        }

        /* H3: Subt√≠tulos Secundarios (Dorados, con l√≠nea inferior) */
        h3 {
            font-family: 'Inter', sans-serif;
            font-size: 2rem; 
            font-weight: 700; 
            color: #D4AF37; 
            margin-top: 5rem; /* AUMENTADO a 5rem para una RUPTURA DE SUB-SECCI√ìN CLARA */
            margin-bottom: 1.5rem; 
            border-bottom: 2px solid #5d4d4a; 
            padding-bottom: 0.5rem;
            text-transform: uppercase; 
            letter-spacing: 0.05em;
        }
        
        /* H4: Detalles y KPQs (Dorados, formato de etiqueta con fondo suave) */
        h4 {
            font-family: 'Inter', sans-serif;
            font-size: 1.15rem; 
            font-weight: 600; 
            color: #D4AF37; 
            margin-top: 2rem; 
            margin-bottom: 1rem; 
            padding-left: 1rem;
            border-left: 4px solid #D4AF37;
            background-color: rgba(212, 175, 55, 0.1);
            padding-top: 10px;
            padding-bottom: 10px;
            border-radius: 0 8px 8px 0;
        }

        /* --- COMPONENTES --- */

        /* Tarjeta de Presentaci√≥n (Integrantes) */
        .info-card {
            background-color: #362b29; /* Moca */
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 50px;
            border: 1px solid rgba(255,255,255,0.05);
            border-top: 6px solid #D4AF37;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .info-card strong { color: #D4AF37; }

        /* Bloques de Im√°genes */
        .img-block {
            width: 100%;
            text-align: center;
            margin-bottom: 40px;
            padding: 1.5rem;
            background-color: #2e2624;
            border-radius: 12px;
            border: 1px solid #4a3b38;
        }
        
        /* Estilos para las im√°genes reales o para el icono de imagen rota (si no cargan) */
        .img-block img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            transition: transform 0.3s ease;
            display: block;
            margin: 0 auto;
        }
        
        .img-block img:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.7);
        }

        /* Texto y Listas */
        p { 
            margin-bottom: 1.5rem; 
            text-align: justify; 
            font-size: 1.05rem;
        } 
        
        ul, ol { 
            padding-left: 1.5rem; 
            margin-bottom: 2rem; 
            list-style-position: outside;
        }
        
        ul li { list-style-type: disc; margin-bottom: 0.8rem; color: #e0ddd5; }
        ol li { margin-bottom: 0.8rem; color: #e0ddd5; }
        
        strong { color: #fff; font-weight: 700; }
        
        /* Visor de C√≥digo */
        #visorTXT {
            margin-top:30px; 
            background:#2e2624; 
            color: #5D9CEC; 
            padding:25px; 
            border-radius:8px;
            border:1px solid #4a3b38;
            white-space:pre-wrap;
            max-width: 100%;
            font-family: monospace;
            font-size: 15px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        /* Botones */
        .btn {
            background: linear-gradient(135deg, #D4AF37 0%, #B4941F 100%); /* Degradado dorado */
            color: #1a1a1a;
            border: none;
            padding: 12px 24px;
            margin: 0; /* Asegura que el flexbox controle el espaciado */
            border-radius: 8px;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            transition: all 0.2s ease;
            cursor: pointer;
            /* A√±adido flex-shrink-0 para que los botones no se encojan */
            flex-shrink: 0;
        }
        
        .btn:hover {
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.6);
            transform: translateY(-2px);
        }
    </style>
</head>

<body>
<div class="business-case-container">
    <!-- üìå INICIO DEL BLOQUE DE PRESENTACI√ìN (Punto 3) -->
    <h1 class="text-cream">GOLD COFFEE EXPORT SAC</h1>
    
    <div class="info-card">
        <p class="mb-2 text-justify"><strong>Integrantes: </strong></p>
        <ul class="list-disc ml-6 mt-0 mb-4">
            <li>Lorena R√°zuri Lazarte</li>
            <li>Mar√≠a Gabriela Estrada Perez</li>
        </ul>
        
        <p class="mb-2 text-justify"><strong>Diplomatura: </strong></p>
        <p class="ml-6 mt-0 mb-4 text-justify">Data Visualization and Dashboarding</p>
        
        <p class="mb-2 text-justify"><strong>Curso: </strong></p>
        <p class="ml-6 mt-0 mb-0 text-justify">Data Visualization with Power BI + Cloud</p>
    </div>
    <!-- üìå FIN DEL BLOQUE DE PRESENTACI√ìN -->
    
    <!-- 1. DIAGRAMA DE ARQUITECTURA DE LA SOLUCI√ìN (H2) -->
    <h2>Diagrama de arquitectura de la soluci√≥n</h2>
    </p>
    
  </p>
    <div class="img-block">
        <img src="diagrama.jpg" alt="Diagrama de arquitectura de Gold Coffee Exports"> 
    </div>
    
    <!-- 2. CAPA DE DATOS (H2) -->
    <h2>Capa de datos</h2>
    <p class="text-justify">
        La capa de datos comprende la documentaci√≥n relacionada con el c√≥digo SQL utilizado para la creaci√≥n de tablas y el establecimiento de las relaciones necesarias para construir el modelo de datos.
        Asimismo, incluye la inserci√≥n de los datos, los cuales fueron generados con el apoyo de la herramienta de IA Gemini.
    </p>
    <p class="text-justify">Para el an√°lisis del negocio de Gold Coffee Export SAC, se estructuraron las siguientes tablas:</p>
    <ul class="list-disc ml-6 text-cream/90">
        <li><strong>Calendario:</strong> La tabla maestra de fechas. Permite filtrar y analizar todos los hechos por niveles temporales (A√±o, Mes, Trimestre, etc.).</li>
        <li><strong>Clientes:</strong> El cat√°logo de la demanda. Clasifica a la entidad que recibe el producto (raz√≥n social, ubicaci√≥n fiscal, tipo de cliente).</li>
        <li><strong>Tipo de Cliente:</strong> Clasificaci√≥n seg√∫n sector o necesidades del cliente.</li>
        <li><strong>Colaboradores:</strong> El cat√°logo de los recursos humanos que generan la venta. Permite medir el desempe√±o individual o por equipo.</li>
        <li><strong>Tipo de Colaborador:</strong> Categor√≠a que identifica el rol o funci√≥n del empleado.</li>
        <li><strong>Producto:</strong> Cat√°logo de la mercanc√≠a que describe qu√© se est√° vendiendo, que incluye el tipo de Caf√©, la presentaci√≥n y el precio por tonelada.</li>
        <li><strong>Puertos:</strong> Cat√°logo de los puntos geogr√°ficos de origen y destino del transporte.</li>
        <li><strong>Pa√≠ses:</strong> Cat√°logo de referencia para normalizar la ubicaci√≥n de clientes y puertos.</li>
        <li><strong>Br√≥ker aduanero:</strong> Lista de las empresas que gestionan los tr√°mites de importaci√≥n/exportaci√≥n.</li>
        <li><strong>Ventas:</strong> Es el registro maestro de una venta. Fija la fecha, el cliente y el colaborador para el evento comercial.</li>
        <li><strong>Ventas x producto:</strong> Contiene los montos detallados (la facturaci√≥n) y las cantidades por cada producto vendido dentro de una transacci√≥n.</li>
        <li><strong>Env√≠os:</strong> Detalla las variables de tiempo y costo asociadas al transporte de la mercanc√≠a, desde la salida hasta la llegada estimada.</li>
        <li><strong>Estado envio:</strong> Cat√°logo de las etapas posibles en las que se puede encontrar un env√≠o (ej., "En Tr√°nsito", "Entregado").</li>
        <li><strong>Mercado Mensual:</strong> Tabla que registra las toneladas exportadas desde Per√∫, facilitando el an√°lisis de la participaci√≥n de la empresa en el mercado y la evoluci√≥n de sus ventas.</li>
        <li><strong>Compras:</strong> Tabla que registra √∫nicamente el costo del flete, vinculada con la tabla de proveedores.</li>
        <li><strong>Proveedor envio:</strong> Cat√°logo de empresas que suministran servicios log√≠sticos y transporte para el env√≠o de mercanc√≠a.</li>
    </ul>
    <p class="text-justify">
        Las tablas del modelo fueron dise√±adas teniendo en cuenta claves primarias y for√°neas, con el objetivo de garantizar la integridad referencial y una correcta vinculaci√≥n de los datos. Cada tabla principal
        posee una clave primaria que identifica de manera √∫nica cada registro, mientras que las claves for√°neas facilitan la asociaci√≥n de informaci√≥n entre las tablas relacionada.
    </p>
    <p class="text-justify">
        La carga inicial de datos se realiz√≥ mediante la opci√≥n Import Flat File, que permiti√≥ crear tablas staging a partir de archivos planos (CSV, TXT u otros). Estas tablas intermedias sirven para poder poblar
        las tablas finales del modelo.
    </p>

    <!-- 2.1. ARCHIVOS RELACIONADOS (H3) -->
    <h3>Archivos relacionados</h3>
    <!-- FIX: Se a√±ade el ID de visor para la funci√≥n JS -->
    <div class="info-card flex flex-col sm:flex-row sm:items-center gap-4">
        <!-- El flex-shrink-0 asegura que el texto no se comprima y el sm:mr-4 da espacio en desktop -->
        <p class="text-lg font-bold text-gold-accent mb-0 sm:mr-4 flex-shrink-0">Archivos SQL:</p>
        <!-- Contenedor flex para los botones, forzando la fila en desktop y permitiendo wrap en mobile -->
        <div class="flex flex-wrap gap-4">¬†
            <!-- Se pasa 'visorSQL' como el ID de destino -->
            <button class="btn" onclick="cargarTXT('C√ìDIGO CREACI√ìN DE TABLAS.txt', 'visorSQL')">üìÑ Creaci√≥n de Tablas</button>
            <button class="btn" onclick="cargarTXT('C√ìDIGO DE RELACI√ìN DE LAS TABLAS.txt', 'visorSQL')">üìÑ Relaci√≥n de Tablas</button>
            <button class="btn" onclick="cargarTXT('C√ìDIGO DE INSERCI√ìN DE DATOS.txt', 'visorSQL')">üìÑ Inserci√≥n Datos Maestros</button>
        </div>
    </div>

    <!-- Visor de texto de SQL: ID √öNICO -->
    <pre id="visorSQL" class="visor-txt"></pre>
    
    <!-- 2.1.1. TABLAS DEL SISTEMA EN SQL (H4) -->
    <h4>TABLAS DEL SISTEMA EN SQL</h4>
    <div class="img-block">
        <img src="tablas_sql.jpg" alt="Tablas del sistema SQL">
    </div>

    <!-- 3. CAPA ETL (H2) -->
    <h2>Capa etl</h2>
    <p class="text-justify">
        La Capa ETL comprende la documentaci√≥n relacionada con los dataflows creados, los pipelines y la automatizaci√≥n en Python.
    </p>
    
    <!-- 3.1. DATA FLOWS (H3) -->
    <h3>Dataflows</h3>
    <p class="text-justify">
        Se realiz√≥ la importaci√≥n de las tablas previamente creadas y pobladas en el SQL, las cuales son ingeridas mediante Dataflows y posteriormente almacenadas en el Data Warehouse, DVG4, de Microsoft Fabric. 
        Este procedimiento garantiza la integraci√≥n y disponibilidad de los datos para su consumo en modelos anal√≠ticos y posteriores tareas de transformaci√≥n.
        Los Dataflows de Microsoft Fabric fueron utilizados para orquestar la ingesta inicial de las tablas desde la fuente operacional.
    </p>
    <div class="img-block">
        <img src="dataflow.jpg" alt="Dataflow de Microsoft Fabric">
    </div>

    <!-- 3.1.1. PRESENTACI√ìN DE LAS TABLAS (H4) -->
    <h4>PRESENTACI√ìN DE LAS TABLAS:</h4>
    
    <!-- Dataflow items (Nivel 4 en la jerarqu√≠a) -->
    
    <h4>DATAFLOW_BROKER_ADUANERO1</h4>
    <div class="img-block">
        <img src="data.brocker.jpg" alt="Dataflow Broker Aduanero">
    </div>

    <h4>DATAFLOW_CALENDARIO1</h4>
    <div class="img-block">
        <img src="data.calen.jpg" alt="Dataflow Calendario">
    </div>

    <h4>DATAFLOW_CLIENTES1</h4>
    <div class="img-block">
        <img src="data.cliente.jpg" alt="Dataflow Clientes">
    </div>

    <h4>DATAFLOW_COLABORADORES1</h4>
    <div class="img-block">
        <img src="data.colaborador.jpg" alt="Dataflow Colaboradores">
    </div>

    <h4>DATAFLOW_COMPRAS1</h4>
    <div class="img-block">
        <img src="data.compra.jpg" alt="Dataflow Compras">
    </div>

    <h4>DATAFLOW_ENVIOS1</h4>
    <div class="img-block">
        <img src="data.envio.jpg" alt="Dataflow Envios">
    </div>

    <h4>DATAFLOW_ESTADO_ENVIO1</h4>
    <div class="img-block">
        <img src="data.estadenv.jpg" alt="Dataflow Estado Envio">
    </div>

    <h4>DATAFLOW_MERCADO_MENSUAL1</h4>
    <div class="img-block">
        <img src="data.mercmes.jpg" alt="Dataflow Mercado Mensual">
    </div>

    <h4>DATAFLOW_PAISES1</h4>
    <div class="img-block">
        <img src="data.pais.jpg" alt="Dataflow Paises">
    </div>

    <h4>DATAFLOW_PRODUCTO1</h4>
    <div class="img-block">
        <img src="data.producto.jpg" alt="Dataflow Producto">
    </div>

    <h4>DATAFLOW_PROVEEDOR_ENVIO1</h4>
    <div class="img-block">
        <img src="data.proveedor.jpg" alt="Dataflow Proveedor Envio">
    </div>

    <h4>DATAFLOW_PUERTOS1</h4>
    <div class="img-block">
        <img src="data.puerto.jpg" alt="Dataflow Puertos">
    </div>

    <h4>DATAFLOW_TIPO_CLIENTE1</h4>
    <div class="img-block">
        <img src="data.tipocliente.jpg" alt="Dataflow Tipo Cliente">
    </div>

    <h4>DATAFLOW_TIPO_COLABORADOR1</h4>
    <div class="img-block">
        <img src="data.tipocolab.jpg" alt="Dataflow Tipo Colaborador">
    </div>

    <h4>DATAFLOW_VENTAS1</h4>
    <div class="img-block">
        <img src="data.venta.jpg" alt="Dataflow Ventas">
    </div>

    <h4>DATAFLOW_VENTAS_X_PRODUCTO1</h4>
    <div class="img-block">
        <img src="data.ventaxprod.jpg" alt="Dataflow Ventas por Producto">
    </div>

    <!-- 3.2. PIPELINES Y AUTOMATIZACI√ìN (H3) -->
    <h3>PIPELINES</h3>
    <p class="text-justify">
        La Data Pipeline en ETL se ejecuta en los siguientes pasos:
    </p>
    <ol class="list-decimal ml-6 text-cream/90">
        <li><strong>Extract (Extracci√≥n):</strong> El pipeline recoge datos de diferentes fuentes.</li>
        <li><strong>Load (Carga):</strong> Los datos brutos son cargados inmediatamente en el repositorio de destino.</li>
        <li><strong>Transform (Transformaci√≥n):</strong> Los datos ya cargados son procesados y transformados usando la potencia del motor del destino (PySpark en Fabric).</li>
    </ol>

     <h3>AUTOMATIZACI√ìN CON NOTEBOOK PYTHON</h3>
    <p class="text-justify">
        El Notebook Python documentado a continuaci√≥n es el mecanismo de Automatizaci√≥n ELT que se ejecuta para tareas espec√≠ficas de carga y reporte.
    </p>

    <p class="text-justify">
       <strong>Proceso del c√≥digo</strong>: El c√≥digo utiliza PySpark para una doble funci√≥n estrat√©gica sin depender de la reescritura de las l√≠neas de c√≥digo:
    </p>
    <ol class="list-decimal ml-6 text-cream/90">
        <li><strong>Carga Cr√≠tica (E & L):</strong>  Se conecta a la base de datos Azure SQL usando JDBC y trae las 27 tablas al entorno de Spark, cargando los datos de forma masiva y r√°pida.</li>
        <li><strong>Generaci√≥n de Reporte (T):</strong> Ejecuta una Transformaci√≥n clave sobre la tabla de ventas, aplicando l√≥gica de ordenamiento por fecha y filtrando para obtener solamente las √öltimas 5 Ventas registradas.</li>
       </ol>

     <p class="text-justify">
       <strong>Resultado Final y Distribuci√≥n</strong>: El resultado final es un Reporte Operacional listo para el consumo y con dos puntos de acceso:
    </p>
    <ol class="list-decimal ml-6 text-cream/90">
        <li><strong>Persistencia en OneLake:</strong>  El reporte transformado es guardado en formato Excel en OneLake de Fabric.</li>
        <li><strong>Consumo Inmediato:</strong> Se genera una copia en formato CSV descargable, permitiendo a los analistas puedan tomar las √∫ltimas 5 ventas al instante y usarlas en sus c√°lculos de forecast.</li>
       </ol>
    
    <h4>NOTEBOOK PYTHON</h4>
       <div class="img-block">
        <img src="pit1.jpg" alt="Notebook python 1">
    </div>
    <div class="img-block">
        <img src="pit2.jpg" alt="Notebook python 2">
    </div>
    <div class="img-block">
        <img src="pit3.jpg" alt="Notebook python 3">
    </div>
    <div class="img-block">
        <img src="pit4.jpg" alt="Notebook python 4">
    </div>
    <div class="img-block">
        <img src="pit5.jpg" alt="Notebook python 5">
    </div>
    <div class="img-block">
        <img src="pit6.jpg" alt="Notebook python 6">
    </div>
    
     <!-- FIX: Se a√±ade el ID de visor para la funci√≥n JS -->
    <div class="info-card flex flex-col sm:flex-row sm:items-center gap-4">
        <!-- El flex-shrink-0 asegura que el texto no se comprima y el sm:mr-4 da espacio en desktop -->
        <p class="text-lg font-bold text-gold-accent mb-0 sm:mr-4 flex-shrink-0">C√≥digo de Python:</p>
        <!-- Contenedor flex para los botones, forzando la fila en desktop y permitiendo wrap en mobile -->
        <div class="flex flex-wrap gap-4">¬†
            <!-- Se pasa 'visorPython' como el ID de destino -->
            <button class="btn" onclick="cargarTXT('cod.python.txt', 'visorPython')">üìÑ cod.python.txt</button>
        </div>
    </div>

    <!-- Visor de texto de Python: ID √öNICO -->
    <pre id="visorPython" class="visor-txt"></pre>

    <!-- 4. CAPA DE ALMACENAMIENTO (H2) -->
    <h2>Capa de almacenamiento</h2>
    <p class="text-justify">
        La capa de almacenamiento comprende la documentaci√≥n del modelo de datos y las medidas creadas para la elaboraci√≥n de reportes.
    </p>

    <!-- 4.1. MODELO DE DATOS (H3) -->
    <h3>Modelo de datos</h3>
    <p class="text-justify">
        Un modelo de datos es la representaci√≥n estructurada del sistema de informaci√≥n, en la cual las tablas se definen y se relacionan mediante llaves primarias y llaves for√°neas. Estas relaciones establecen la integridad referencial y permiten describir de manera sistem√°tica la interacci√≥n entre las entidades, 
        garantizando consistencia, trazabilidad y una gesti√≥n eficiente de los datos dentro del modelo relacional.
    </p>
    
    <div class="img-block">
        <img src="modelo01.jpg" alt="Modelo de Datos Estrella o Snow Flake">
    </div>
    
    <!-- 4.1.1. RELACIONES DEL MODELO (H4) -->
    <h4>RELACIONES DEL MODELO</h4>
    <div class="img-block">
        <img src="relacion1.jpg" alt="Modelo de Datos Relaciones 1">
    </div>
    <div class="img-block">
        <img src="relacion2.jpg" alt="Modelo de Datos Relaciones 2">
    </div>

    <!-- 4.2. MEDIDAS CALCULADAS (H3) -->
    <h3>Medidas calculadas</h3>
    <ul class="list-disc ml-6 text-cream/90">
        <li>% TOTAL_FACTURADO_MoM = DIVIDE([Total_Facturado]-[TOTAL_FACTURADO_PM],[TOTAL_FACTURADO_PM])</li>
        <li>CANT_VENTAS_2025 = CALCULATE(COUNT('DVG4 tb_ventas1'[venta_id]),Calendario[a√±o]=2025)</li>
        <li>Cantidad de Toneladas 2025 = CALCULATE(SUM('DVG4 tb_ventas_x_producto1'[cantdidad_ton]),Calendario[a√±o]=2025)</li>
        <li>CantPedidos = CALCULATE(COUNT('DVG4 tb_ventas1'[venta_id]))</li>
        <li>CantPedidos 2024 = CALCULATE(COUNT('DVG4 tb_ventas1'[venta_id]),Calendario[a√±o]=2024)</li>
        <li>EXPORT MENSUAL = SUM('DVG4 tb_mercado_mensual1'[mercado_mensual_precio_x_ton_prom])</li>
        <li>export mensual 2025 = CALCULATE(SUM('DVG4 tb_mercado_mensual1'[mercado_mensual_precio_x_ton_prom]),Calendario[a√±o]=2025)</li>
        <li>KPI = [Total_Facturado]/[EXPORT MENSUAL]</li>
        <li>KPI 2025 = [Total_Facturado_2025]/[export mensual 2025]</li>
        <li>KPI OBJETIVO = 0.39</li>
        <li>KPI_2023 = CALCULATE([KPI],Calendario[a√±o]=2023)</li>
        <li>KPI_2024 = CALCULATE([KPI],Calendario[a√±o]=2024)</li>
        <li>Meta_Anual 2025 = 283624000</li>
        <li>Promedio de CantPedidos 2024 por razon_social_nombre = AVERAGEX(KEEPMFILTERS(VALUES('DVG4 tb_clientes1'[razon_social_nombre])), CALCULATE([CantPedidos 2024]))</li>
        <li>Promedio de CantPedidos por A√±o = AVERAGEX(KEEPFILTERS(VALUES('Calendario'[x. fechas].[A√±o])),CALCULATE([CantPedidos]))</li>
        <li>Promedio de KPI 2025 por ciudad_nombre = AVERAGEX(KEEPFILTERS(VALUES('DVG4 tb_clientes1'[ciudad_nombre])), CALCULATE([KPI 2025]))</li>
        <li>Promedio de KPI 2025 por pais_nombre = AVERAGEX(KEEPFILTERS(VALUES('DVG4 tb_paises1'[pais_nombre])), CALCULATE([KPI 2025]))</li>
        <li>Promedio de KPI por A√±o = AVERAGEX(KEEPFILTERS(VALUES('Calendario'[x. fechas].[A√±o])), CALCULATE([KPI]))</li>
        <li>Promedio de KPI por Mes = AVERAGEX(KEEPFILTERS(VALUES('Calendario'[x. fechas].[Mes])), CALCULATE([KPI]))</li>
        <li>Promedio de KPI_2024 por tipo_cliente_nombre = AVERAGEX(KEEPFILTERS(VALUES('DVG4 tb_tipo_cliente1'[tipo_cliente_nombre])), CALCULATE([KPI_2024]))</li>
        <li>Promedio de Total_Facturado_2025 por prov_nombre = AVERAGEX(KEEPFILTERS(VALUES('DVG4 tb_proveedor_envio1'[prov_nombre])), CALCULATE([Total_Facturado_2025]))</li>
        <li>Total_Facturado = SUM('DVG4 tb_ventas_x_producto1'[precio_x_ton_facturado])</li>
        <li>Total_Facturado_2024 = CALCULATE(SUM('DVG4 tb_ventas_x_producto1'[precio_x_ton_facturado]),Calendario[a√±o]=2024)</li>
        <li>Total_Facturado_2025 = CALCULATE(SUM('DVG4 tb_ventas_x_producto1'[precio_x_ton_facturado]),Calendario[a√±o]=2025)</li>
        <li>TOTAL_FACTURADO_PM = CALCULATE([Total_Facturado],DATEADD(Calendario[x. fechas],-1,MONTH))</li>
        <li>TOTAL_TONELADAS_2025 = CALCULATE(SUM('DVG4 tb_ventas_x_producto1'[cantdidad_ton]),Calendario[a√±o]=2025)</li>
    </ul>

    <!-- 5. CAPA DE PRESENTACI√ìN (H2) -->
    <h2>Capa de presentaci√≥n</h2>
    <p class="text-justify">
        La capa de presentaci√≥n constituye la fase final de la informaci√≥n procesada del Business Case de la empresa
        <strong>Gold Coffee Export SAC</strong>, donde la informaci√≥n se transforma en conocimiento accionable listo
        para la toma de decisiones.
    </p>
    <p class="text-justify">
        Esta capa utiliza herramientas de visualizaci√≥n avanzadas, como Power BI y Microsoft Fabric, para convertir los
        datos en un recurso estrat√©gico y operativo de alto valor, sintetizando mediante interfaces intuitivas y an√°lisis
        visual para generar un impacto directo en la toma de decisiones.
    </p>
    <p class="text-justify">
        La capa se alimenta de datos ya consolidados y organizados bajo un modelo de datos, a fin de efectuar su explotaci√≥n anal√≠tica. 
        Sus principales componentes son:
    </p>
    <ul class="list-disc ml-6 text-cream/90">
        <li><strong>Business Case:</strong> Se desarrolla el objetivo, la estrategia y el costo beneficio.</li>
        <li><strong>Definici√≥n del KPI (Key Performance Indicator):</strong> Descripci√≥n detallada del indicador, que incluye su prop√≥sito, la f√≥rmula utilizada para calcularlo y las caracter√≠sticas esenciales que permiten entender su comportamiento, alcance y relevancia para evaluar el posicionamiento y evoluci√≥n de la empresa dentro del sector cafetero.</li>
        <li><strong>Dashboard:</strong> Vista integral del KPI.</li>
        <li><strong>Reporte del KPI:</strong> Proporciona un an√°lisis del KPI en un periodo de tiempo espec√≠fico. En este caso, se proyecta la visualizaci√≥n hist√≥rica y tendencial desde Junio de 2025 hasta Mayo de 2027.</li>
        <li><strong>KPQ (Key Performance Questions):</strong> Desarrollo de reportes anal√≠ticos que responden a las preguntas clave de rendimiento.</li>
    </ul>

    <div class="galeria">
        <!-- 5.1. HOJA DE PRESENTACI√ìN (H3) -->
        <h3>Hoja de presentaci√≥n</h3>
        <div class="img-block">
            <img src="parte1/imagen01.jpg" alt="Hoja de presentaci√≥n">
        </div>

        <!-- 5.2. BUSINESS CASE (H3) -->
        <h3>Business case</h3>
        <div class="img-block">
            <img src="parte1/imagen02.jpg" alt="Business Case Gold Coffee Exports">
        </div>

        <!-- 5.3. DEFINICI√ìN DEL KPI (H3) -->
        <h3>Definici√≥n del kpi (key performance indicator)</h3>
        <div class="img-block">
            <img src="parte1/imagen03.jpg" alt="Definici√≥n de KPI">
        </div>

        <!-- 5.4. DASHBOARD (H3) -->
        <h3>Dashboard</h3>
        <div class="img-block">
            <img src="parte1/imagen04.jpg" alt="Dashboard Principal de Power BI">
        </div>

        <!-- 5.5. REPORTE DEL KPI (H3) -->
        <h3>Reporte del kpi</h3>
        <div class="img-block">
            <img src="parte1/imagen05.jpg" alt="Reporte de KPI Tendencia">
        </div>

        <!-- 5.6. KPQ (H3) -->
        <h3>Kpq (key performance questions)</h3>
        
        <!-- 5.6.1. PREGUNTA 1 (H4) -->
        <h4>Pregunta 1</h4>
        <div class="img-block">
            <img src="parte2/pregunta1.0.jpg" alt="KPQ 1">
            <img src="parte2/pregunta1.1.jpg" alt="KPQ 1.1">
            <img src="parte2/pregunta1.2.jpg" alt="KPQ 1.2">
        </div>

        <!-- 5.6.2. PREGUNTA 2 (H4) -->
        <h4>Pregunta 2</h4>
        <div class="img-block">
            <img src="pregunta2.jpg" alt="KPQ 2">
            <img src="pregunta2.1.jpg" alt="KPQ 2.1">
            <img src="pregunta2.2.jpg" alt="KPQ 2.2">
        </div>

        <!-- 5.6.3. PREGUNTA 3 (H4) -->
        <h4>Pregunta 3</h4>
        <div class="img-block">
            <img src="pregunta3.jpg" alt="KPQ 3">
            <img src="pregunta3.1.jpg" alt="KPQ 3.1">
            <img src="pregunta3.2.jpg" alt="KPQ 3.2">
        </div>

        <!-- 5.6.4. PREGUNTA 4 (H4) -->
        <h4>Pregunta 4</h4>
        <div class="img-block">
            <img src="pregunta4.jpg" alt="KPQ 4">
        </div>

        <!-- 5.6.5. PREGUNTA 5 (H4) -->
        <h4>Pregunta 5</h4>
        <div class="img-block">
            <img src="pregunta5.jpg" alt="KPQ 5">
            <img src="pregunta5.1.jpg" alt="KPQ 5.1">
            <img src="pregunta5.2.jpg" alt="KPQ 5.2">
        </div>

        <!-- 5.6.6. PREGUNTA 6 (H4) -->
        <h4>Pregunta 6</h4>
        <div class="img-block">
            <img src="pregunta6.jpg" alt="KPQ 6">
            <img src="pregunta6.1.jpg" alt="KPQ 6.1">
            <img src="pregunta6.2.jpg" alt="KPQ 6.2">
        </div>

        <!-- 5.6.7. PREGUNTA 7 (H4) -->
        <h4>Pregunta 7</h4>
        <div class="img-block">
            <img src="pregunta7.jpg" alt="KPQ 7">
            <img src="pregunta7.1.jpg" alt="KPQ 7.1">
            <img src="pregunta7.2.jpg" alt="KPQ 7.2">
        </div>

        <!-- 5.6.8. PREGUNTA 8 (H4) -->
        <h4>Pregunta 8</h4>
        <div class="img-block">
            <img src="pregunta8.jpg" alt="KPQ 8">
        </div>

        <!-- 5.6.9. PREGUNTA 9 (H4) -->
        <h4>Pregunta 9</h4>
        <div class="img-block">
            <img src="pregunta9.jpg" alt="KPQ 9">
        </div>

        <!-- 5.6.10. PREGUNTA 10 (H4) -->
        <h4>Pregunta 10</h4>
        <div class="img-block">
            <img src="parte2/pregunta10.0.jpg" alt="KPQ 10.0">
            <img src="pregunta10.1.jpg" alt="KPQ 10.1">
            <img src="pregunta10.2.jpg" alt="KPQ 10.2">
        </div>

        <!-- 5.6.11. PREGUNTA 11 (H4) -->
        <h4>Pregunta 11</h4>
        <div class="img-block">
            <img src="pregunta11.jpg" alt="KPQ 11">
            <img src="pregunta11.1.jpg" alt="KPQ 11.1">
            <img src="pregunta11.2.jpg" alt="KPQ 11.2">
        </div>

        <!-- 5.6.12. PREGUNTA 12 (H4) -->
        <h4>Pregunta 12</h4>
        <div class="img-block">
            <img src="pregunta12.jpg" alt="KPQ 12">
        </div>

        <!-- 5.6.13. PREGUNTA 13 (H4) -->
        <h4>Pregunta 13</h4>
        <div class="img-block">
            <img src="pregunta13.jpg" alt="KPQ 13">
            <img src="pregunta13.1.jpg" alt="KPQ 13.1">
            <img src="pregunta13.2.jpg" alt="KPQ 13.2">
        </div>

        <!-- 5.6.14. PREGUNTA 14 (H4) -->
        <h4>Pregunta 14</h4>
        <div class="img-block">
            <img src="pregunta14.jpg" alt="KPQ 14">
        </div>

        <!-- 5.6.15. PREGUNTA 15 (H4) -->
        <h4>Pregunta 15</h4>
        <div class="img-block">
            <img src="pregunta15.jpg" alt="KPQ 15">
            <img src="pregunta15.1.jpg" alt="KPQ 15.1">
            <img src="pregunta15.2.jpg" alt="KPQ 15.2">
        </div>

    </div>
</div>
<script>
    /**
     * Carga el contenido de un archivo TXT en un visor espec√≠fico y desplaza la vista hacia √©l.
     * @param {string} ruta - La ruta del archivo TXT (e.g., 'cod.python.txt').
     * @param {string} idVisor - El ID del elemento <pre> donde se mostrar√° el texto (e.g., 'visorSQL').
     */
    function cargarTXT(ruta, idVisor) {
        // Obtenemos el elemento visor
        const visor = document.getElementById(idVisor);
        
        // Verificamos si el visor existe
        if (!visor) {
            console.error("El visor con ID '" + idVisor + "' no fue encontrado.");
            return;
        }

        // Indicamos que se est√° cargando el archivo
        visor.textContent = "Cargando archivo " + ruta + "...";

        // Usamos fetch para obtener el contenido del archivo
        fetch(ruta)
            .then(resp => {
                if (!resp.ok) {
                    // Si la respuesta no es OK (ej: 404 Not Found)
                    throw new Error(`Error al cargar el archivo: ${resp.status} ${resp.statusText}`);
                }
                return resp.text();
            })
            .then(texto => {
                // Rellenamos el visor con el texto
                visor.textContent = texto;
                
                // Desplazamos a la vista del visor para mejor UX.
                // 'start' asegura que el visor se alinee con el borde superior del viewport, 
                // resolviendo el problema del scroll.
                visor.scrollIntoView({ behavior: 'smooth', block: 'start' });
            })
            .catch(err => {
                // Si hay un error (ej: archivo no encontrado)
                visor.textContent = "‚ö† No se pudo cargar el archivo: " + ruta + ". Detalle: " + err.message;
            });
    }
</script>
</body>
</html>
